import 'package:flutter/material.dart';import 'package:ui_challenge01/utils/styles.dart';class BottomBar extends StatefulWidget {  dynamic onUpdate;  int selectedIndex;  BottomBar(this.selectedIndex, this.onUpdate);  @override  _BottomBarState createState() => _BottomBarState();}class _BottomBarState extends State<BottomBar> {  bool isExpandedView = false;  @override  Widget build(BuildContext context) {    return Container(      color: Styles.backgroundColor,      height: MediaQuery.of(context).size.height*.17,      child: Column(        mainAxisAlignment: MainAxisAlignment.end,        children: [          Column(            mainAxisAlignment: MainAxisAlignment.end,            children: <Widget>[              Container(                height: MediaQuery.of(context).size.height * .10,                decoration: BoxDecoration(                  color: Styles.bodyColor,                  borderRadius: isExpandedView                      ? BorderRadius.only(                      topRight: Radius.circular(20),                      topLeft: Radius.circular(20))                      : null,                  boxShadow: [                    BoxShadow(                      color: Styles.barShadowColor,                      blurRadius: 5.0,                      spreadRadius: 0.0,                      offset:                      Offset(2.0, 2.0), // shadow direction: bottom right                    )                  ],                ),                child: Row(                  children: [                    buildBarKey(context, Icons.home, 'Home', 0),                    buildBarKey(context, Icons.access_time, 'Daily Updates', 1),                    buildBarKey(context, Icons.beach_access, 'Leaves', 2),                    InkWell(                      onTap: () {                        setState(() {                          isExpandedView = !isExpandedView;                        });                      },                      child: Container(                        height: 50,                        width: MediaQuery.of(context).size.width / 4,                        child: Stack(                          alignment: Alignment.center,                          children: [                            isExpandedView                                ? Container(                              margin: EdgeInsets.all(5),                              height: MediaQuery.of(context).size.height,                              //width: MediaQuery.of(context).size.width / 6,                              decoration: BoxDecoration(                                shape: BoxShape.circle,                                color: Styles.buttonColor,                              ),                            )                                : Container(),                            Container(                              child: Column(                                mainAxisAlignment:                                MainAxisAlignment.spaceEvenly,                                crossAxisAlignment: CrossAxisAlignment.center,                                children: [                                  Icon(                                    isExpandedView                                        ? Icons.more_horiz                                        : Icons.more_vert,                                    size: Styles.smallTxt,                                    color: Styles.secColor,                                  ),                                  Text(                                    isExpandedView ? 'Less' : 'More',                                    style: TextStyle(                                        fontSize: Styles.smallTxt,                                        fontWeight: FontWeight.bold,                                        color: Styles.secColor),                                  )                                ],                              ),                            ),                          ],                        ),                      ),                    ),                  ],                ),              ),              isExpandedView                  ? Container(                decoration: BoxDecoration(                  color: Styles.bodyColor,                  /*border: Border(top: BorderSide(width: 1))*/                ),                child: Row(                  children: [                    buildBarKey(context, Icons.equalizer, 'Projects', 3),                    buildBarKey(context, Icons.date_range, 'Calender', 4),                    buildBarKey(context, Icons.person, 'Employees', 5),                    buildBarKey(                        context, Icons.local_airport, 'Holiday', 6),                  ],                ),              )                  : Container(),            ],          ),        ],      ),    );  }  Widget buildBarKey(BuildContext context, IconData icons, texts, int index) =>      InkWell(        onTap: () {          widget.onUpdate(index);        },        child: Container(          //  color: Colors.orange,          height: 50,          width: MediaQuery.of(context).size.width / 4,          /*  decoration: BoxDecoration(borderRadius: BorderRadius.only(topLeft: Radius.circular(10),)),*/          child: Stack(            alignment: Alignment.bottomCenter,            children: [              Container(                child: Column(                  mainAxisAlignment: MainAxisAlignment.spaceEvenly,                  crossAxisAlignment: CrossAxisAlignment.center,                  children: [                    Icon(                      icons,                      size: Styles.smallTxt,                      color: Styles.secColor,                    ),                    Text(                      texts,                      style: TextStyle(                          fontSize: Styles.smallTxt,                          fontWeight: FontWeight.bold,                          color: Styles.secColor),                    )                  ],                ),              ),              widget.selectedIndex == index                  ? Container(                height: 4,                width: MediaQuery.of(context).size.width / 6,                decoration: BoxDecoration(                    color: Styles.buttonColor,                    borderRadius: BorderRadius.only(                        topRight: Radius.circular(40),                        topLeft: Radius.circular(40))),              )                  : Container(),            ],          ),        ),      );}